import{_ as t,r as e,o as p,c as o,a as n,b as a,d as c,e as i}from"./app-gptAtai3.js";const l={},r=n("h1",{id:"godot4-2d角色四方向移动",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#godot4-2d角色四方向移动","aria-hidden":"true"},"#"),a(" Godot4-2d角色四方向移动")],-1),u=n("h2",{id:"资源下载",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#资源下载","aria-hidden":"true"},"#"),a(" 资源下载")],-1),d={href:"https://kenney.nl/",target:"_blank",rel:"noopener noreferrer"},k=i(`<h2 id="如图添加节点" tabindex="-1"><a class="header-anchor" href="#如图添加节点" aria-hidden="true">#</a> 如图添加节点</h2><p><img src="http://qncdn.liuxiaobo.pro/yy6y3i78p317026916346361702691633924.png" alt=""></p><h2 id="添加动画" tabindex="-1"><a class="header-anchor" href="#添加动画" aria-hidden="true">#</a> 添加动画</h2><p><img src="http://qncdn.liuxiaobo.pro/izsxparvsf17026916856371702691685494.png" alt=""><img src="http://qncdn.liuxiaobo.pro/dpa3alnx7p17026917516361702691751051.png" alt=""></p><h2 id="在-player-添加脚本" tabindex="-1"><a class="header-anchor" href="#在-player-添加脚本" aria-hidden="true">#</a> 在 Player 添加脚本</h2><div class="language-gdscript line-numbers-mode" data-ext="gdscript"><pre class="language-gdscript"><code><span class="token keyword">extends</span> <span class="token class-name">CharacterBody2D</span>

@<span class="token keyword">onready</span> <span class="token keyword">var</span> animation_player <span class="token operator">=</span> <span class="token variable">$AnimationPlayer</span>

<span class="token comment">## 移动速度</span>
<span class="token keyword">var</span> speed<span class="token punctuation">:</span><span class="token class-name">float</span> <span class="token operator">=</span> <span class="token number">3500</span>

<span class="token keyword">func</span> <span class="token function">_physics_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">var</span> direction <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">get_vector</span><span class="token punctuation">(</span><span class="token string">&quot;move_left&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;move_right&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;move_up&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;move_down&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>direction<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		animation_player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">elif</span> <span class="token punctuation">(</span>direction<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		animation_player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">elif</span> <span class="token punctuation">(</span>direction<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		animation_player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">&quot;up&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">elif</span> <span class="token punctuation">(</span>direction<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		animation_player<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token string">&quot;down&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		animation_player<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	velocity <span class="token operator">=</span> direction <span class="token operator">*</span> speed <span class="token operator">*</span> delta
	<span class="token function">move_and_slide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="效果展示" tabindex="-1"><a class="header-anchor" href="#效果展示" aria-hidden="true">#</a> 效果展示</h2><video width="640" height="480" controls><source src="http://qncdn.liuxiaobo.pro/qv7d3f2w6j170269092065820231216_093228.mp4"></video><h2 id="优化" tabindex="-1"><a class="header-anchor" href="#优化" aria-hidden="true">#</a> 优化</h2><h3 id="位置平滑" tabindex="-1"><a class="header-anchor" href="#位置平滑" aria-hidden="true">#</a> 位置平滑</h3><p><img src="http://qncdn.liuxiaobo.pro/0os0u5xpak17026919446351702691943962.png" alt=""></p>`,11);function h(v,m){const s=e("ExternalLinkIcon");return p(),o("div",null,[r,u,n("p",null,[n("a",d,[a("kenney"),c(s)])]),k])}const _=t(l,[["render",h],["__file","Godot4-2d角色四方向移动.html.vue"]]);export{_ as default};
